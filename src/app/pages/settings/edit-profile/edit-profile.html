<h3 class="fw-bold mb-4">Edit profile</h3>
<div class="row">
  <div class="col-md-8">
    <form>
      <div class="row mb-3">
        <div class="col">
          <label>First Name</label>
          <input type="text" class="form-control" [(ngModel)]="profile.firstName" name="firstName" />
        </div>
        <div class="col">
          <label>Last Name</label>
          <input type="text" class="form-control" [(ngModel)]="profile.lastName" name="lastName" />
        </div>
      </div>

      <div class="mb-3">
        <label>Email</label>
        <input type="email" class="form-control" [(ngModel)]="profile.email" name="email" />
      </div>

      <div class="mb-3">
        <label>Address</label>
        <input type="text" class="form-control" [(ngModel)]="profile.address" name="address" />
      </div>

      <div class="mb-3">
        <label>Contact Number</label>
        <input type="text" class="form-control" [(ngModel)]="profile.contact" name="contact" />
      </div>

      <div class="row mb-3">
        <div class="col">
          <label>City</label>
          <select class="form-select" [(ngModel)]="profile.city" name="city">
            <option>Kandy</option>
            <option>Colombo</option>
          </select>
        </div>
        <div class="col">
          <label>Province</label>
          <select class="form-select" [(ngModel)]="profile.province" name="province">
            <option>Central</option>
            <option>Western</option>
          </select>
        </div>
      </div>
      
       <div class="row mb-3 align-items-center">  <!-- Added align-items-center -->
  <div class="col">
    <div class="mb-3">
      <label>Password</label>
      <input type="password" class="form-control" [(ngModel)]="profile.password" name="password" />
    </div>
  </div>
  <div class="col-auto d-flex align-items-end">  <!-- Changed to col-auto and added d-flex align-items-end -->
    <button class="btn btn-danger" type="submit" (click)="onPasswordChange()">
      Change Password
    </button>
  </div>
</div>

     

      <div class="d-flex gap-2">
        <button class="btn btn-outline-danger" type="button" (click)="onCancel()">Cancel</button>
        <button class="btn btn-primary" type="submit" (click)="onSave()">Save</button>
      </div>
    </form>
  </div>

<div class="col-md-4 text-center">
  <div class="position-relative profile-picture-container">
    <div class="profile-image-wrapper" (click)="toggleUrlInput()">
      <img [src]="userData?.profilePicturePath || 'images/profiles.png'" 
           class="rounded-circle mb-3 profile-image" 
           width="120" 
           height="120"
           (error)="handleImageError($event)">
      <div class="upload-icon-overlay">
        <i class="bi bi-camera-fill"></i>
      </div>
    </div>
    
    <div class="input-group mt-2" *ngIf="showUrlInput">
      <input type="url" 
             class="form-control" 
             [(ngModel)]="profilePictureUrl"
             placeholder="Enter image URL"
             name="profilePictureUrl">
      <button class="btn btn-primary" (click)="updateProfilePicture(); $event.stopPropagation()">
        Update
      </button>
    </div>
  </div>
  <small class="text-muted" *ngIf="showUrlInput">
    Enter a direct image URL (must be publicly accessible)
  </small>
</div>


</div>
