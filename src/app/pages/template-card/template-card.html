<div class="card shadow-sm rounded-4 h-100 hover-shadow position-relative">
  
    <img [src]="getImageUrl()" 
         class="card-img-top rounded-top-4 object-fit-cover" 
         style="height: 150px;" 
         alt="Template Image"> 
         
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ template.template_name }}</h5>
        
        <!-- Field Count -->
        <p class="text-muted small mb-2">{{ template.field_count }} Fields</p>
        
        <!-- Field Tags -->
        <div class="mb-3" *ngIf="template.fields?.length">
            <div class="d-flex flex-wrap gap-2">
                <span *ngFor="let field of template.fields" 
                      class="badge bg-light text-dark border rounded-pill small">
                    {{ field.fieldName }}
                    <span *ngIf="field.required" class="text-danger">*</span>
                </span>
            </div>
        </div>
        <div *ngIf="!template.fields?.length" class="mb-3">
            <span class="badge bg-light text-muted rounded-pill small">No fields defined</span>
        </div>
        
        <!-- Footer with button -->
        <div class="mt-auto d-flex justify-content-between align-items-center">
            <button class="btn btn-outline-dark rounded-pill px-3" (click)="onUseTemplate()">
                Use This
            </button>
            <span class="badge bg-success rounded-pill">Free</span>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-button">
        <button class="btn btn-primary" id="fab-button">
            <i class="bi bi-pencil"></i>
        </button>
        <div class="dropdown-content" [class.show]="isDropdownOpen">
            <button class="dropdown-item bi bi-pencil " (click)="onEdit()"> Edit</button>
           <button class="dropdown-item bi bi-trash" (click)="onDelete()">Delete</button>
        </div>
    </div>
    <!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteConfirmationModal" tabindex="-1" aria-labelledby="deleteConfirmationLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteConfirmationLabel">Confirm Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this template?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" (click)="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>
</div>
</div>

